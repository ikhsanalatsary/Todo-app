<!DOCTYPE Html>
<html ng-app= "todoApp">
<head>
	<title>Todo App</title>
	<!-- bower:css -->
	<link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap-theme.css">
	<link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap-theme.css">
	<!-- endcss -->
	<!-- inject:css -->
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<!-- endcss -->
</head>
<body ng-controller="TodoCtrl as vm">
	<h1>Todos</h1>
	<div ng-hide="vm.checkSomething()" ng-cloak>
		<h2>Register</h2>
		<form class="form-inline" ng-submit="vm.register(vm.model.email, vm.model.password)">
			<label>Email <input type="email" class="form-control" placeholder="Email" ng-model=vm.model.email> </label>
			<label>Password <input type="password" class="form-control" placeholder="Password" ng-model=vm.model.password> </label>
			<button type="submit" class="btn btn-default">Register</button>
		</form>
	</div>

	<hr>

	<div ng-hide="vm.user" ng-cloak>
		<h2>Login</h2>
		<form class="form-inline" ng-submit="vm.login(vm.email, vm.password)">
			<label>Email <input type="email" class="form-control" placeholder="Email" ng-model=vm.email> </label>
			<label>Password <input type="password" class="form-control" placeholder="Password" ng-model=vm.password> </label>
			<button type="submit" class="btn btn-primary" name="login">Login</button>
		</form>
	</div>

	<section ng-show="vm.user" ng-cloak>
		<header>
			<h2>Welcome {{vm.user.email}}</h2>
				<form ng-submit="vm.addTodo(vm.description)">
					<input type="text" class="form-control" placeholder="What's up?" ng-model="vm.description" ng-disabled="vm.saving" autofocus>
						<!-- <button type="submit">Save</button> -->
							<pre ng-bind="vm.description"></pre>
				</form>
		</header>
		<section>
			<ul id="todo-list">
				<li class="list-unstyled" ng-repeat="todo in vm.todos" ng-class="{completed: todo.completed, editing: todo == vm.editedTodo}">
					<div class="view">
						<input class="toggle" type="checkbox" ng-model="todo.completed" ng-change="vm.toggleCompleted(todo)">
						<label ng-dblclick="vm.editTodo(todo)">{{todo.description}}</label>
						<button type="button" class="btn btn-danger btn-xs" ng-click="vm.removeTodo(todo)">
							<span class="glyphicon glyphicon-remove"></span>
						</button>
					</div>
					<form ng-submit="vm.saveEdits(todo, 'submit')">
						<input class="edit" ng-trim="false" ng-model="todo.description" ng-blur="vm.saveEdits(todo, 'blur')" todo-focus="todo == vm.editedTodo">
					</form>
				</li>
			</ul>
		</section>
		<button class="btn btn-default" ng-click="vm.logout()">Logout</button>
<!-- 		<button ng-click="vm.getTodos()">Get All Todos</button>
				<pre ng-bind="vm.todos | json"></pre> -->
	</section>
	
	<!-- bower:js -->
	<script src="bower_components/angular/angular.js"></script>
	<script src="bower_components/jquery/dist/jquery.js"></script>
	<script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
	<!-- endinject-->
	<!-- inject:js -->
	<script src="app.js"></script>
	<!-- endinject -->
</body>
</html>